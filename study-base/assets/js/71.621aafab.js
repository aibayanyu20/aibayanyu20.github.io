(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{268:function(t,a,s){"use strict";s.r(a);var e=s(6),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"数据库crud操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库crud操作"}},[t._v("#")]),t._v(" 数据库CRUD操作")]),t._v(" "),s("h2",{attrs:{id:"数据库增删改查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库增删改查"}},[t._v("#")]),t._v(" 数据库增删改查")]),t._v(" "),s("h3",{attrs:{id:"创建数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库"}},[t._v("#")]),t._v(" 创建数据库")]),t._v(" "),s("ol",[s("li",[t._v("示例1\ncreate database 数据库名称;")])]),t._v(" "),s("blockquote",[s("p",[t._v("如果不存在可以创建一个新的数据库，如果数据库存在会报错")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("示例2\ncreate database if not exists person;")])]),t._v(" "),s("blockquote",[s("p",[t._v("不会像示例1会报错")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("示例3")])]),t._v(" "),s("p",[t._v("create database if not exists person charset=utf8;")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意点")]),t._v(" "),s("p",[t._v("创建的时候一般需要制定当前数据库的类型，为了避免将来读取的字符集和存储的字符集不一样导致乱码问题，\n在创建数据库的时候需要指定数据库的字符集")])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("查询全局保存数据的默认编码")])]),t._v(" "),s("p",[t._v("show variables like 'character_set_%';")]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("查看指定数据库的编码")])]),t._v(" "),s("p",[t._v("show create database 数据库名称;")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意点")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("如果使用数据库的关键字创建数据库需要对数据库名称加入'`数据库表名称`'\n")])])])]),t._v(" "),s("h3",{attrs:{id:"删除一个数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除一个数据库"}},[t._v("#")]),t._v(" 删除一个数据库")]),t._v(" "),s("ol",[s("li",[t._v("示例1:")])]),t._v(" "),s("p",[t._v("drop database 数据库名称;")]),t._v(" "),s("blockquote",[s("p",[t._v("如果存在可以删除，不存在就会报错")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("示例2：")])]),t._v(" "),s("p",[t._v("drop database if exists 数据库名称;")]),t._v(" "),s("blockquote",[s("p",[t._v("解决示例1中出现的删除会报错的问题，存在就删除掉不存在就不需要进行删除。")])]),t._v(" "),s("h3",{attrs:{id:"修改和查看数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改和查看数据库"}},[t._v("#")]),t._v(" 修改和查看数据库")]),t._v(" "),s("h4",{attrs:{id:"修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改"}},[t._v("#")]),t._v(" 修改")]),t._v(" "),s("ol",[s("li",[t._v("修改字符集")])]),t._v(" "),s("p",[t._v("alter database 数据库名称 charset=字符集;")]),t._v(" "),s("h4",{attrs:{id:"查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看"}},[t._v("#")]),t._v(" 查看")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("show create database 数据库名称; 查看指定的数据库")])]),t._v(" "),s("li",[s("p",[t._v("show databases; 查看所有的数据库")])])]),t._v(" "),s("h2",{attrs:{id:"表增删改查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表增删改查"}},[t._v("#")]),t._v(" 表增删改查")]),t._v(" "),s("h3",{attrs:{id:"查看数据库中的表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看数据库中的表"}},[t._v("#")]),t._v(" 查看数据库中的表")]),t._v(" "),s("ul",[s("li",[t._v("使用数据库")])]),t._v(" "),s("p",[t._v("use 数据库名称;")]),t._v(" "),s("ul",[s("li",[t._v("查看数据库表")])]),t._v(" "),s("p",[t._v("show tables;")]),t._v(" "),s("h3",{attrs:{id:"创建一张表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建一张表"}},[t._v("#")]),t._v(" 创建一张表")]),t._v(" "),s("div",{staticClass:"language-SQL extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" 表名称"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    字段名称 数据类型"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    字段名称 数据类型"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    字段名称 数据类型\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("ol",[s("li",[t._v("示例1：")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" stu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("blockquote",[s("p",[t._v("如果数据库中存在表会报错;")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("示例2：")])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),t._v(" stu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("blockquote",[s("p",[t._v("如果当前的表不存在就创建表，存在就不创建表")])]),t._v(" "),s("h3",{attrs:{id:"查看当前的表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前的表结构"}},[t._v("#")]),t._v(" 查看当前的表结构")]),t._v(" "),s("p",[t._v("desc 表名称;")]),t._v(" "),s("h3",{attrs:{id:"删除表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除表"}},[t._v("#")]),t._v(" 删除表")]),t._v(" "),s("ol",[s("li",[t._v("示例1：")])]),t._v(" "),s("p",[t._v("drop table 表名称；")]),t._v(" "),s("blockquote",[s("p",[t._v("如果表存在就会删除表，不存在会报错")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("示例2：")])]),t._v(" "),s("p",[t._v("drop table if exists 表名称;")]),t._v(" "),s("blockquote",[s("p",[t._v("如果需要删除的表存在就会删除表，不存在就跳过")])]),t._v(" "),s("h3",{attrs:{id:"修改表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改表"}},[t._v("#")]),t._v(" 修改表")]),t._v(" "),s("h4",{attrs:{id:"修改表名称"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改表名称"}},[t._v("#")]),t._v(" 修改表名称")]),t._v(" "),s("p",[t._v("rename table 原始名称 to 新名称;")]),t._v(" "),s("h4",{attrs:{id:"新增字段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新增字段"}},[t._v("#")]),t._v(" 新增字段")]),t._v(" "),s("p",[t._v("alter table 表名称 add 新增字段的名称 新增字段数据类型 [位置];")]),t._v(" "),s("p",[t._v("alter table person add age int ;")]),t._v(" "),s("p",[t._v("默认情况下会将新增字段放到原有字段的后面")]),t._v(" "),s("p",[t._v("alter table person add age int first;")]),t._v(" "),s("ul",[s("li",[t._v("可以通过first将当前新增的字段放到原有字段的前面")])]),t._v(" "),s("p",[t._v("alter table person add age int after name;")]),t._v(" "),s("ul",[s("li",[t._v("可以通过after指定将新增的字段放到哪个字段的后面")])]),t._v(" "),s("h4",{attrs:{id:"删除字段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除字段"}},[t._v("#")]),t._v(" 删除字段")]),t._v(" "),s("p",[t._v("alter table 表名称 drop 字段名称;")]),t._v(" "),s("h4",{attrs:{id:"修改字段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改字段"}},[t._v("#")]),t._v(" 修改字段")]),t._v(" "),s("ol",[s("li",[t._v("修改字段的数据类型")])]),t._v(" "),s("p",[t._v("alter table 表名 modify 需要修改的字段名称 新的数据类型;")]),t._v(" "),s("p",[t._v("alter table stu modify age char;")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("修改字段的名称")])]),t._v(" "),s("p",[t._v("alter table 表名 change 原始字段名称 新的字段名称 新的数据类型;")]),t._v(" "),s("p",[t._v("alter table stu change age gender char;")]),t._v(" "),s("h3",{attrs:{id:"mysql存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql存储引擎"}},[t._v("#")]),t._v(" MySql存储引擎")]),t._v(" "),s("h4",{attrs:{id:"myisam"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#myisam"}},[t._v("#")]),t._v(" MyISAM")]),t._v(" "),s("p",[t._v("安全性低，但不支持事务和外键，适合频繁插入和查询的应用")]),t._v(" "),s("h4",{attrs:{id:"innodb-默认"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#innodb-默认"}},[t._v("#")]),t._v(" InnoDB(默认)")]),t._v(" "),s("p",[t._v("安全性高，支持事务和外键，适合对安全性，数据完整性要求较高的应用")]),t._v(" "),s("h4",{attrs:{id:"memory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#memory"}},[t._v("#")]),t._v(" Memory")]),t._v(" "),s("p",[t._v("访问速度极快，但不会永久存储数据，适合对读写速度要求较高的应用")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" stu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("engine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("引擎名称"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h4",{attrs:{id:"不同引擎的本质"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不同引擎的本质"}},[t._v("#")]),t._v(" 不同引擎的本质")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("如果表的存储引擎是InnoDB,那么只要创建表就会自动创建一个文件,这个文件就保存了这张表的结构")]),t._v(" "),s("ul",[s("li",[t._v("如果网InnoDB的表中存储数据，那么数据会被存储到ibdata1的文件中，如果存储的数据较多，会自动创建ibdata2、ibdata3..")])])]),t._v(" "),s("li",[s("p",[t._v("如果表的存储引擎是MyISAM，那么只要创建表就会自动创建三个文件")]),t._v(" "),s("ul",[s("li",[t._v(".sdi保存表的结构")]),t._v(" "),s("li",[t._v(".MYD这个文件保存表中存储的数据")]),t._v(" "),s("li",[t._v(".MYI这个文件保存表中的索引")])])]),t._v(" "),s("li",[s("p",[t._v("如果使用Memory，那么只要创建表会自动创建一个文件，这个文件保存文件的表结构。")]),t._v(" "),s("ul",[s("li",[t._v("如果表的存储引擎是Memory，那么就数据不会像其他两种引擎保存到文件中，直接保存到内存中")])])])]),t._v(" "),s("h4",{attrs:{id:"修改表的存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改表的存储引擎"}},[t._v("#")]),t._v(" 修改表的存储引擎")]),t._v(" "),s("p",[t._v("alter table 表名 engine=引擎名称;")]),t._v(" "),s("h2",{attrs:{id:"mysql数据增删改查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据增删改查"}},[t._v("#")]),t._v(" MySQL数据增删改查")]),t._v(" "),s("h3",{attrs:{id:"插入数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插入数据"}},[t._v("#")]),t._v(" 插入数据")]),t._v(" "),s("p",[t._v("insert into 表名(字段名称1,字段名2) values (值1,值2);")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" stu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("values")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意点：")]),t._v(" "),s("ol",[s("li",[t._v("在插入数据的时候，指定的字段名称的顺序不需要和表中的字段的顺序一致\n"),s("code",[t._v("insert into stu(id,name)values(1,'ww')")]),t._v(";")]),t._v(" "),s("li",[t._v("在插入数据的时候，指定的取值的顺序必须和指定的字段的顺序一致，不然呢会报错\n"),s("code",[t._v("insert into stu(name,id)values('ww',1)")]),t._v(";")]),t._v(" "),s("li",[t._v("如果插入数据时，指定的取值的顺序和表中的字段的顺序一致，可以不指定表的字段\n"),s("code",[t._v("insert into stu values(1,'ls')")]),t._v(";")]),t._v(" "),s("li",[t._v("可以同时插入多条数据\n"),s("code",[t._v("insert into values(2,'test1'),(3,'test2');")])])])]),t._v(" "),s("h3",{attrs:{id:"更新数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新数据"}},[t._v("#")]),t._v(" 更新数据")]),t._v(" "),s("p",[s("code",[t._v("update 表名 set 字段名称 = 值 [where = 条件];")])]),t._v(" "),s("p",[t._v("示例1:")]),t._v(" "),s("p",[s("code",[t._v("update stu set age = 10;")]),t._v("\n更新表的时候没有附加条件，那么就会更新整张表中的数据")]),t._v(" "),s("p",[t._v("示例2:")]),t._v(" "),s("p",[s("code",[t._v("update stu set age = 11 where name='ls';")]),t._v("\n加条件更新指定的数据")]),t._v(" "),s("h3",{attrs:{id:"查询表中的数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询表中的数据"}},[t._v("#")]),t._v(" 查询表中的数据")]),t._v(" "),s("h4",{attrs:{id:"基础查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础查询"}},[t._v("#")]),t._v(" 基础查询")]),t._v(" "),s("p",[t._v("select * from 表名称;")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意点：")]),t._v(" "),s("p",[t._v("会将表中所有的数据都查询出来，所有性能比较差")])]),t._v(" "),s("h4",{attrs:{id:"附加条件查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附加条件查询"}},[t._v("#")]),t._v(" 附加条件查询")]),t._v(" "),s("ol",[s("li",[t._v("查询特定字段")])]),t._v(" "),s("p",[s("code",[t._v("select 字段名称1,字段名称2,字段名称3 from 表名 [where条件];")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("查询满足条件的数据")])]),t._v(" "),s("p",[s("code",[t._v("select id,name from stu where score > 60;")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("where支持的运算符:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("= 、 != 、<> 、< 、<= 、> 、>=")])]),t._v(" "),s("li",[s("p",[t._v("in：固定值范围值")])]),t._v(" "),s("li",[s("p",[t._v("between...and:值在什么范围内")])]),t._v(" "),s("li",[s("p",[t._v("is null: 为空 is not null 不为空")])]),t._v(" "),s("li",[s("p",[t._v("and 与")])]),t._v(" "),s("li",[s("p",[t._v("or 或")])]),t._v(" "),s("li",[s("p",[t._v("not 非")])])])]),t._v(" "),s("h3",{attrs:{id:"删除表中数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除表中数据"}},[t._v("#")]),t._v(" 删除表中数据")]),t._v(" "),s("p",[s("code",[t._v("delete from 表名称 [where 条件];")])])])}),[],!1,null,null,null);a.default=r.exports}}]);