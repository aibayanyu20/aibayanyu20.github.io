(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{258:function(a,s,t){"use strict";t.r(s);var e=t(6),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"webpack基础学习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack基础学习"}},[a._v("#")]),a._v(" webpack基础学习")]),a._v(" "),t("h2",{attrs:{id:"什么是webpack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是webpack"}},[a._v("#")]),a._v(" 什么是webpack")]),a._v(" "),t("p",[a._v("是一套基于NodeJS的“模块打包工具”\n在webpack刚推出的时候就是一个单纯的JS模块打包工具，可以将很多个模块的JS文件合并打包到一个文件中，但是随着时间的推移、众多开发者的追捧和贡献，现在的webpack不仅仅能够打包JS模块，还可以打包CSS/LESS/SCSS/图片等其他文件")]),a._v(" "),t("h2",{attrs:{id:"为什么要分模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要分模块"}},[a._v("#")]),a._v(" 为什么要分模块")]),a._v(" "),t("p",[a._v("如果将所有的JS代码都写到一个文件中，十分不利于代码的维护和复用\n所以我们可以将不同的功能写到不同的模块中，这样就提升了代码的维护性和复用性\n但是当将代码写到不同模块时新的问题又出现了\n导入资源变多，请求次数增多，网页性能变差了")]),a._v(" "),t("h2",{attrs:{id:"如何解决上述问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何解决上述问题"}},[a._v("#")]),a._v(" 如何解决上述问题")]),a._v(" "),t("p",[a._v("项目上线时将用到的所有模块都合并到一个文件中\n在html中只导入主文件、再主文件中再导入依赖模块")]),a._v(" "),t("h2",{attrs:{id:"如何通过webpack来打包模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何通过webpack来打包模块"}},[a._v("#")]),a._v(" 如何通过webpack来打包模块")]),a._v(" "),t("p",[a._v("安装webpack")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" init -y\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i -D webpack\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i -D webpack-cli\n")])])]),t("p",[a._v("在终端中输入打包的指令\nnpx webpack index.js")]),a._v(" "),t("blockquote",[t("p",[a._v("利用webpack将index.js和它依赖的模块打包到一个文件中\n其实webpack指令中除了可以通过命令行的方式告诉webpack需要打包哪个文件以外，还可以通过配置文件的方式告诉webpack需要打包哪个文件")])]),a._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意点")]),a._v(" "),t("p",[a._v("index.js就是需要打包的文件\n打包之后的文件会放到dist目录中，名称叫做main.js")])]),a._v(" "),t("h2",{attrs:{id:"webpack常见配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack常见配置"}},[a._v("#")]),a._v(" webpack常见配置")]),a._v(" "),t("p",[t("code",[a._v("entry")]),a._v(":需要打包的文件\n"),t("code",[a._v("output")]),a._v(":打包之后输出路径和文件名称\n"),t("code",[a._v("mode")]),a._v(":打包模式 development/production\n"),t("code",[a._v("development")]),a._v(":不会压缩打包后的js代码")]),a._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意点")]),a._v(" "),t("ul",[t("li",[a._v("配置文件的名称必须叫做:webpack.config.js 否则直接输入 npx webpack 会报错")]),a._v(" "),t("li",[a._v("如果要只用其他的名称，那么输入打包命令的时候必须通过"),t("code",[a._v("--config")]),a._v("指定配置文件")]),a._v(" "),t("li",[a._v("指令过长，可以通过package.json的scripts来定义指令后再执行npm test 或npm run 指令名称操作即可完成")])])]),a._v(" "),t("h2",{attrs:{id:"sourcemap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sourcemap"}},[a._v("#")]),a._v(" sourcemap")]),a._v(" "),t("h3",{attrs:{id:"什么是sourcemap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是sourcemap"}},[a._v("#")]),a._v(" 什么是sourcemap")]),a._v(" "),t("p",[a._v("webpack打包后的文件自动添加很多代码，在开发过程中非常不利于我们调试\n因为如果运行webpack打包后的代码，错误提示的内容也是打包后文件的内容\n所以为了降低调试的难度，提高错误代码的阅读星，我们就需要知道打包后代码和打包之前代码的关系\n只要有了这个映射关系我们就能很好的显示错误提示的内容，存储这个映射关系的文件我们就称为sourcemap")]),a._v(" "),t("h3",{attrs:{id:"如何开启sourcemap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何开启sourcemap"}},[a._v("#")]),a._v(" 如何开启sourcemap")]),a._v(" "),t("h4",{attrs:{id:"eval（不推荐）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eval（不推荐）"}},[a._v("#")]),a._v(" eval（不推荐）:")]),a._v(" "),t("ul",[t("li",[a._v("不会单独生成sourcemap文件，会将映射关系存储到打包文件中，并通过eval存储")]),a._v(" "),t("li",[a._v("优势：性能最好")]),a._v(" "),t("li",[a._v("缺点：业务逻辑比较复杂时候提示信息可能不全面不正确")])]),a._v(" "),t("h4",{attrs:{id:"source-map"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#source-map"}},[a._v("#")]),a._v(" source-map:")]),a._v(" "),t("ul",[t("li",[a._v("会单独生成sourcemap文件，通过单独文件来存储映射关系")]),a._v(" "),t("li",[a._v("优势：提示信息全面，可以直接定位到错误代码的行和列")]),a._v(" "),t("li",[a._v("缺点：打包速度慢")])]),a._v(" "),t("h4",{attrs:{id:"inline"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inline"}},[a._v("#")]),a._v(" inline:")]),a._v(" "),t("ul",[t("li",[a._v("不会单独生成sourcemap文件，会将映射关系存储到打包的文件中，并且通过base64字符串形式存储")])]),a._v(" "),t("h4",{attrs:{id:"cheap："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cheap："}},[a._v("#")]),a._v(" cheap：")]),a._v(" "),t("ul",[t("li",[a._v("生成的映射信息只能定位到错误行不能定位到错误列")])]),a._v(" "),t("h4",{attrs:{id:"module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[a._v("#")]),a._v(" module:")]),a._v(" "),t("ul",[t("li",[a._v("不仅希望存储我们代码的映射关系，还希望存储第三方模块映射关系，以便于第三方模块出错时也能更好的排错")])]),a._v(" "),t("h3",{attrs:{id:"企业开发中的配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#企业开发中的配置"}},[a._v("#")]),a._v(" 企业开发中的配置")]),a._v(" "),t("h4",{attrs:{id:"dev开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dev开发"}},[a._v("#")]),a._v(" dev开发")]),a._v(" "),t("ul",[t("li",[a._v("cheap-module-eval-source-map")]),a._v(" "),t("li",[a._v("只需要行错误信息，并且包含第三方模块错误信息，并且不会生成单独sourcemap文件")])]),a._v(" "),t("h4",{attrs:{id:"pro生产"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pro生产"}},[a._v("#")]),a._v(" pro生产")]),a._v(" "),t("ul",[t("li",[a._v("cheap-module-source-map")]),a._v(" "),t("li",[a._v("只需要行错误信息，并且包含第三方模块错误信息，并且会生成单独sourcemap文件")])]),a._v(" "),t("h3",{attrs:{id:"配置sourcemap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置sourcemap"}},[a._v("#")]),a._v(" 配置sourcemap")]),a._v(" "),t("p",[a._v("在webpack.config.json中添加如下代码")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  devtool"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"cheap-module-eval-source-map"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"es6模块化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es6模块化"}},[a._v("#")]),a._v(" ES6模块化")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("在ES6出现之前，JS不像其他语言一样拥有“模块化”这一概念，于是为了支持模块化")])]),a._v(" "),t("li",[t("p",[a._v("我们使用类、立即执行函数或者第三方插件(RequireJs、seaJS)来实现模块化")])]),a._v(" "),t("li",[t("p",[a._v("但是ES6出现之后，上述的解决方案已被废弃，因为ES6中正式引入了模块化概念")])]),a._v(" "),t("li",[t("p",[a._v("ES6模块化和NodeJS中一样，一个文件就是一个模块，模块中的数据都是私有的")])]),a._v(" "),t("li",[t("p",[a._v("可以通过对应的关键字暴露模块中的数据")])]),a._v(" "),t("li",[t("p",[a._v("可以通过对应的关键字导入模块，使用模块中暴露的数据")])])]),a._v(" "),t("h3",{attrs:{id:"es6-导出导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es6-导出导入"}},[a._v("#")]),a._v(" ES6 导出导入")]),a._v(" "),t("h4",{attrs:{id:"第一种方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一种方式"}},[a._v("#")]),a._v(" 第一种方式")]),a._v(" "),t("p",[t("code",[a._v("a.js")]),a._v("文件")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("let")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"test"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("code",[a._v("index.js")]),a._v("文件")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"./a.js"')]),a._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意点")]),a._v(" "),t("ol",[t("li",[a._v("如果是通过 "),t("code",[a._v("export{xxx}")]),a._v("方式导出数据，那么在导入接收的变量名称必须和导出的名称一致。\n"),t("strong",[a._v("因为在导入的时候本质上是ES6的解构赋值！")])]),a._v(" "),t("li",[a._v("如果是通过 "),t("code",[a._v("export{xxx}")]),a._v("方式导出数据，又想在导入数据的时候修改接收的变量名称，那么可以使用as来修改变量名称。\n"),t("strong",[a._v("那么原有的名称就会失效！")])])])]),a._v(" "),t("h4",{attrs:{id:"第二种方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第二种方式"}},[a._v("#")]),a._v(" 第二种方式")]),a._v(" "),t("p",[t("code",[a._v("b.js文件")])]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("let")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"test"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[t("code",[a._v("index.js文件")])]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"./b.js"')]),a._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意点")]),a._v(" "),t("ol",[t("li",[a._v("如果是通过"),t("code",[a._v("export default xxx")]),a._v(" 导出数据，那么在接收导出数据的时候变量名称可以和导出的名称不一致")]),a._v(" "),t("li",[a._v("如果是通过"),t("code",[a._v("export default xxx")]),a._v(" 导出数据，那么在模块中只能导出一次"),t("code",[a._v("export default")])])]),a._v(" "),t("ul",[t("li",[a._v("在企业开发中，第一种和第二种使用方式是可以混合使用的")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);